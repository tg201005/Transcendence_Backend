<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>SocketIO Test</title>
  </head>
  <body>
    <h1>socketIO connect/disconnect TEST</h1>
    <input id="connect_btn" type="button" value="Enter">
    <input id="disconnect_btn" type="button" value="Enter">

    <script src="https://cdn.socket.io/4.7.4/socket.io.min.js" integrity="sha384-Gr6Lu2Ajx28mzwyVR8CFkULdCU7kMlZ9UthllibdOSo6qAiN+yXNHqtgdTvFXMT4" crossorigin="anonymous"></script>
    <script>
      let socket = io("localhost:8000/game", {
        query: {
          "name": "dham",
          "nick": "nick",
          "game_mod": "normal",
        },
      });

      socket.on('connect', () => {
        console.log('connected to server');
      });

      socket.on('disconnect', () => {
        console.log('disconnected from server');
      });

      document.querySelector('#connect_btn').onclick = function(e) {
        console.log("connect btn input");
        socket.emit("test_ping", "Hello server", (res) => {
          console.log(res);
        });
      };

      document.querySelector('#disconnect_btn').onclick = function(e) {
        console.log("disconnect btn input");
        socket.emit("test_ping", "Bye server", (res) => {
          console.log(res);
        });
      };
    </script>
  </body>
</html>